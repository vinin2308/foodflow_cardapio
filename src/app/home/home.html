<div class="home-container">
  <div class="logo-section">
    <h1 class="logo">FoodFlow</h1>
  </div>

  <div class="form-section">
    <div class="form-group">
      <label for="mesa">Mesa</label>
      <input 
        type="number" 
        id="mesa" 
        [(ngModel)]="mesa" 
        placeholder="NÃºmero da mesa"
        class="form-input"
      />
    </div>

    <div class="form-group">
      <label for="nome">Nome (opcional)</label>
      <input 
        type="text" 
        id="nome" 
        [(ngModel)]="nome" 
        placeholder="Seu nome"
        class="form-input"
      />
    </div>

    <div class="form-group">
      <label for="numeroPessoas">NÃºmero de pessoas</label>
      <input 
        type="number" 
        id="numeroPessoas" 
        [(ngModel)]="numeroPessoas" 
        placeholder="Quantas pessoas?"
        min="1"
        class="form-input"
      />
    </div>

    <!-- Campo de cÃ³digo sÃ³ aparece se modo for 'entrar' -->
    <div class="form-group" *ngIf="modo === 'entrar'">
      <label for="codigoAcesso">CÃ³digo de acesso</label>
      <input 
        type="text" 
        id="codigoAcesso" 
        [(ngModel)]="codigoAcesso" 
        placeholder="Digite o cÃ³digo"
        class="form-input"
      />
    </div>

    <div class="buttons-section">
      <button 
        class="btn btn-primary" 
        id="iniciar-pedido"
        (click)="modo = 'iniciar'; iniciarPedido()"
        [disabled]="!mesa || !numeroPessoas || numeroPessoas < 1"
      >
        Iniciar Comanda Principal
      </button>

      <button 
        class="btn btn-secondary"
        (click)="modo = 'entrar'"
      >
        Vincular-se a Comanda Existente
      </button>

      <button 
        class="btn btn-success"
        *ngIf="modo === 'entrar'"
        (click)="entrarPorCodigo()"
        [disabled]="!codigoAcesso"
      >
        Confirmar Entrada
      </button>
    </div>

    <!-- Mensagens de status -->
    <div class="info-message" *ngIf="modo === 'iniciar' && isComandaPrincipal">
      <p class="alert alert-success">
        âœ… VocÃª iniciou uma <strong>comanda principal</strong> para a mesa <strong>{{ mesa }}</strong>.
      </p>
    </div>

    <div class="info-message" *ngIf="modo === 'entrar' && !isComandaPrincipal && codigoAcesso">
      <p class="alert alert-info">
        ðŸ”— VocÃª estÃ¡ vinculado Ã  <strong>comanda principal</strong> com cÃ³digo <code>{{ codigoAcesso }}</code>.
      </p>
    </div>
  </div>
</div>