<div class="cardapio-container">
  <!-- Header -->
  <header class="cardapio-header">
    <div class="header-info">
      <h1>FoodFlow</h1>
      <div class="mesa-info">
        <span class="mesa">Mesa {{ mesa }}</span>
        <span class="cliente" *ngIf="nomeCliente">{{ nomeCliente }}</span>
      </div>
    </div>
    
    <!-- Bot√£o do Carrinho -->
    <button class="carrinho-btn" (click)="toggleCarrinho()" id="abrir-carrinho">
      üõí
      <span class="badge" *ngIf="quantidadeTotalItens > 0">{{ quantidadeTotalItens }}</span>
    </button>
  </header>

  <!-- Navega√ß√£o de Categorias -->
  <nav class="categorias-nav">
    <button 
      *ngFor="let categoria of categorias"
      class="categoria-btn"
      [class.ativa]="categoriaAtiva?.id === categoria.id"
      (click)="selecionarCategoria(categoria)"
      [attr.id]="'categoria-' + categoria.id"
    >
      <span class="icone">{{ categoria.icone }}</span>
      <span class="nome">{{ categoria.nome }}</span>
    </button>
  </nav>

  <!-- Lista de Itens -->
  <main class="cardapio-content">
    <ng-container *ngFor="let categoria of categorias">
      <section class="categoria-section" *ngIf="categoriaAtiva?.id === categoria.id">
        <h2 class="categoria-titulo">
          {{ categoria.icone }} {{ categoria.nome }}
        </h2>
        <div class="itens-grid">
          <div 
            class="item-card" 
            *ngFor="let item of getItensPorCategoria(categoria)"
            [attr.id]="'item-card-' + item.id"
          >
            <div class="item-info">
              <h3 class="item-nome">{{ item.nome }}</h3>
              <p class="item-descricao">{{ item.descricao }}</p>
              <span class="item-preco">{{ formatarPreco(item.preco) }}</span>
            </div>
            <div class="item-actions">
              <button 
                class="btn-observacao" 
                (click)="abrirModalObservacao(item)"
                title="Adicionar observa√ß√£o"
                [attr.id]="'adicionar-observacao-' + item.id"
              >
                ‚úèÔ∏è
              </button>
              <button 
                class="btn-adicionar" 
                (click)="adicionarItem(item)"
                [attr.id]="'adicionar-item-' + item.id"
              >
                + Adicionar
              </button>
            </div>
          </div>
        </div>
      </section>
    </ng-container>
  </main>

  <!-- Componente do Carrinho -->
  <app-carrinho 
  *ngIf="carrinhoAberto"
  (fechar)="toggleCarrinho()"
></app-carrinho>

  <!-- Modal de Observa√ß√£o -->
  <app-observacao-modal
    *ngIf="mostrarModalObservacao"
    [item]="itemSelecionadoParaObservacao"
    (confirmar)="adicionarItemComObservacao($event)"
    (cancelar)="fecharModalObservacao()"
  ></app-observacao-modal>
</div>

