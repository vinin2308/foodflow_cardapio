<div class="order-card" [ngClass]="getCardClass()">
  <div class="order-header">
    <span class="order-number">Pedido #{{ order.id }}</span>
    <!-- Isso agora vai funcionar porque arrumamos o TS -->
    <span class="order-time">{{ getOrderTime() }}</span>
  </div>

  <div class="order-info">
    <!-- ✅ MUDANÇA AQUI: De 'mesa' para 'mesa_numero' -->
    <p><strong>Mesa:</strong> {{ order.mesa_numero }}</p>
    <p><strong>Cliente:</strong> {{ order.nome_cliente }}</p>
  </div>

  <ul class="dish-list">
    <li *ngFor="let item of order.itens">
      <i class="fas fa-utensils"></i>
      <!-- Isso já está certo, pois o backend manda 'prato_nome' -->
      {{ item.quantidade }}x {{ item.prato_nome }}
      <span *ngIf="item.observacao">({{ item.observacao }})</span>
    </li>
  </ul>

  <!-- RESTO DO ARQUIVO IGUAL AO SEU -->
  <div class="order-status">
    <span class="status-badge" [ngClass]="getStatusClass()">
      {{ getStatusText() }}
    </span>
  </div>

  <div *ngIf="order.status === OrderStatus.PREPARING" class="prep-time">
    <i class="fas fa-clock"></i>
    <span class="countdown" [ngClass]="{ 'overtime': isOvertime() }">
      {{ getFormattedRemainingTime() }}
    </span>
  </div>

  <div class="prep-time" *ngIf="order.status === OrderStatus.READY">
    <i class="fas fa-check-circle"></i>
    <span>Pronto para servir</span>
  </div>

  <div class="order-actions">
    <button *ngIf="order.status === OrderStatus.PENDING" class="btn btn-start" (click)="onStartPreparation()">
      <i class="fas fa-play"></i> Iniciar Preparo 
    </button>

    <button *ngIf="order.status === OrderStatus.PREPARING" class="btn btn-finish" (click)="onFinishOrder()">
      <i class="fas fa-check"></i> Finalizar
    </button>

    <button *ngIf="order.status === OrderStatus.READY" class="btn btn-cancel" (click)="onRemoveOrder()">
      <i class="fas fa-times"></i> Remover
    </button>
  </div>
</div>