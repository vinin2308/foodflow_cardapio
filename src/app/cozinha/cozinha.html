<app-header></app-header>

<main class="main-content">
  <div class="orders-container">
    <div class="orders-header">
      <h2>Pedidos em Andamento</h2>
      <div class="filter-buttons">
        <button 
          class="filter-btn" 
          [class.active]="currentFilter === 'all'"
          (click)="setFilter('all')"
          id="filtro-todos">
          Todos
        </button>
        <button 
          class="filter-btn" 
          [class.active]="currentFilter === OrderStatus.PENDING"
          (click)="setFilter(OrderStatus.PENDING)"
          id="filtro-pendentes">
          Pendentes
        </button>
        <button 
          class="filter-btn" 
          [class.active]="currentFilter === OrderStatus.PREPARING"
          (click)="setFilter(OrderStatus.PREPARING)"
          id="filtro-em-preparo">
          Em Preparo
        </button>
        <button 
          class="filter-btn" 
          [class.active]="currentFilter === OrderStatus.READY"
          (click)="setFilter(OrderStatus.READY)"
          id="filtro-prontos">
          Prontos
        </button>
      </div>
    </div>

    <div class="orders-grid">
      <app-order-card
        *ngFor="let order of filteredOrders"
        [order]="order"
        (startPreparation)="onStartPreparation($event)"
        (finishOrder)="onFinishOrder($event)"
        (removeOrder)="onRemoveOrder($event)"
        [attr.id]="'pedido-' + order.id">
      </app-order-card>
    </div>
  </div>
</main>

<app-time-modal
  [isVisible]="timeModal.isVisible"
  [order]="timeModal.order"
  (close)="onCloseTimeModal()"
  (confirm)="onConfirmTimeModal($event)">
</app-time-modal>

<div class="notification" *ngIf="notification.show" [ngClass]="'notification-' + notification.type">
  <i class="fas" [ngClass]="getNotificationIcon()"></i>
  <span>{{ notification.message }}</span>
</div>

